<html>
<head>
  <link href="css/le-frog/jquery-ui.css" rel="stylesheet">
  <link href="css/le-frog/jquery.ui.theme.css" rel="stylesheet">

  <script src="js/jquery-1.9.0.js"></script>
  <script src="js/jquery-ui-1.10.0.custom.js"></script>

  <!-- IE detection -->
  <script type="text/javascript" src="js/modernizr.js"></script>
  <script type="text/javascript" src="libs/check_browser.js"></script>


  <script type="text/javascript" src="js/jquery.mousewheel.min.js"></script>
  <script type="text/javascript" src="js/ajax-upload.3.5.js"></script>
  <script type="text/javascript" src="js/jquery.cookie.js"></script>
  <script type="text/javascript" src="js/jquery.blockUI.js"></script>
  <script type="text/javascript" src="js/jquery.ba-resize.min.js"></script>
  <style>
/*  *{-moz-user-select: none;-webkit-user-select: none;} */
  #thing { 
    width: 300px;
  }

  .shiftspinner {
    overflow:hidden; 
  }

  .shiftspinner * {
    -moz-user-select: none;-webkit-user-select: none;
    cursor: pointer;
  }
  .shiftspinner ul {
    margin:0; padding: 0;
    overflow: hidden; position: relative;
  }
  .shiftspinner li {
    float: left; 
    display: inline; 
  }


   </style>
  
  <script type="text/javascript" charset="utf-8">
  $.widget( "argo.shiftspinner", {
    // state:
    which: 0,
    n: 0,
    
    // default options
    options: {
      duration: 500,      
      easing: 'easeOutBounce',
      // callbacks
      change: null
    },

    // the constructor
    _create: function() {
      this.element
        // add a class for theming
        .addClass( "shiftspinner" )
        // prevent double click to select text
        .disableSelection();
      this.selected = 0;
      this._refresh();
    },

    // called when created, and later when changing options
    _refresh: function() {
      this.width =  this.element.width();
      this.n = $('li',this.element).length;
      this.ul = $('ul',this.element);
      this.lis = $('li',this.element);
      $(this.lis.get(0)).clone().appendTo(this.ul);
      this.lis = $('li',this.element);

      this.ul.width(this.width*(this.n+1)+"px");
      this.lis.width(this.width+"px");
  
      this._on( this.lis, { click: "_doclick" });
      // trigger a callback/event
      this._trigger( "change" );
    },
    
    _doclick: function( event ) {
        this.which = (this.which+1);
        var left = this.which * -this.width+ "px";
        console.log("click",this.which);
        console.log("click",this.which,left,this.options.easing);
        var fn = function(){console.log("noreset")};
        if(this.which == this.n) { this.which = 0; fn = function(){console.log("reset");$(this).css('left',0);};}
        $(this.ul).stop().animate({left: left, top: "0px"}, 
                                  {easing: this.options.easing, duration: this.options.duration, complete: fn}
                                );
        this._trigger("change", event, {selected: this.lis.get(this.which), val: this.which});
    },

    // a public method to change the color to a random value
    // can be called directly via .colorize( "val" )
    val: function() {
      return this.selected;
      return $('li',this.element).get(selected);
    },
 
    // events bound via _on are removed automatically
    // revert other modifications here
    _destroy: function() {
      // remove generated elements
      this.element
        .removeClass( "shiftspinner" )
        .enableSelection();
      },

    // _setOptions is called with a hash of all options that are changing
    // always refresh when changing options
    _setOptions: function() {
      // _super and _superApply handle keeping the right this-context
      this._superApply( arguments );
      this._refresh();
    },

    // _setOption is called for each individual option that is changing
    _setOption: function( key, value ) {
      this._super( key, value );
    }
  });

  $(function(){ 
    $('#thing').shiftspinner();
  })
  </script>
</head>
<body>
  
  <div id='thing'>
    <ul> 
      <li style="background:red;"> None </li>
      <li style="background:blue;">  Yadda::Yadda__Yadda__ </li>
      <li style="background:green;"> Yadda::Yadda__Foobar__ </li>
    </ul>
  </div>
  
</body>
</html>